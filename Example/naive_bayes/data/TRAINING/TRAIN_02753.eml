X-Account-Key: account5
X-UIDL: GmailId128b20dcb294785d
X-Mozilla-Status: 0000
X-Mozilla-Status2: 00000000
X-Mozilla-Keys:                                                                                 
Delivered-To: mlsubscriber.tech@csmining.org
Received: by 10.143.160.8 with SMTP id m8cs62928wfo;
        Wed, 19 May 2010 12:32:48 -0700 (PDT)
Received: by 10.223.29.135 with SMTP id q7mr746768fac.30.1274297567848;
        Wed, 19 May 2010 12:32:47 -0700 (PDT)
Return-Path: <bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org>
Received: from liszt.debian.org (liszt.debian.org [82.195.75.100])
        by mx.google.com with ESMTP id y20si18638441fah.102.2010.05.19.12.32.47;
        Wed, 19 May 2010 12:32:47 -0700 (PDT)
Received-SPF: pass (google.com: manual fallback record for domain of bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org designates 82.195.75.100 as permitted sender) client-ip=82.195.75.100;
Authentication-Results: mx.google.com; spf=pass (google.com: manual fallback record for domain of bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org designates 82.195.75.100 as permitted sender) smtp.mail=bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org; dkim=neutral (body hash did not verify) header.i=@csmining.org
Received: from localhost (localhost [127.0.0.1])
	by liszt.debian.org (Postfix) with QMQP
	id 1D96F13A53EC; Wed, 19 May 2010 19:32:40 +0000 (UTC)
Old-Return-Path: <aaron.toponce@csmining.org>
XChecker-Version: SpamAssassin 3.2.5 (2008-06-10) on liszt.debian.org
XLevel: 
XStatus: No, score=-14.5 required=4.0 tests=FOURLA,LDOSUBSCRIBER,
	LDO_WHITELIST,PGPSIGNATURE,RATWARE_GECKO_BUILD autolearn=failed version=3.2.5
X-Original-To: lists-debian-user@liszt.debian.org
Delivered-To: lists-debian-user@liszt.debian.org
Received: from localhost (localhost [127.0.0.1])
	by liszt.debian.org (Postfix) with ESMTP id 38BF813A53EB
	for <lists-debian-user@liszt.debian.org>; Wed, 19 May 2010 19:32:34 +0000 (UTC)
X-Virus-Scanned: at lists.debian.org with policy bank en-ht
X-AmavisStatus: No, score=-11.9 tagged_above=-10000 required=5.3
	tests=[BAYES_00=-2, FOURLA=0.1, LDO_WHITELIST=-5, PGPSIGNATURE=-5]
	autolearn=ham
Received: from liszt.debian.org ([127.0.0.1])
	by localhost (lists.debian.org [127.0.0.1]) (amavisd-new, port 2525)
	with ESMTP id M38GowqFXYtt for <lists-debian-user@liszt.debian.org>;
	Wed, 19 May 2010 19:32:26 +0000 (UTC)
X-policyd-weight: using cached result; rate: -6.9
Received: from mail-qy0-f185.google.com (mail-qy0-f185.google.com [209.85.221.185])
	by liszt.debian.org (Postfix) with ESMTP id 05A9113A5348
	for <debian-user@lists.debian.org>; Wed, 19 May 2010 19:32:25 +0000 (UTC)
Received: by qyk15 with SMTP id 15so10449004qyk.6
        for <debian-user@lists.debian.org>; Wed, 19 May 2010 12:32:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=csmining.org; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:references:in-reply-to
         :x-enigmail-version:content-type;
        bh=MwCfwZcjCO/SnByMVu4qxusB8raT28WpzN+6vncOtSY=;
        b=EOPfxi40GEHZcP+vEqEvksaReZu8Fj6XIYGc6kojDFwlbKZOAu84HL3h+iTJJe4SrR
         ZzFktHu/6A0yn+c7ngMLehDFDzF4QhVN/WpRIy18Hoj0ypTyRguEz2y1wgBhu3fCcgzy
         MskLbAjfiyrGr9pCxZ7+LVWA+U87o+ZCZVnws=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=csmining.org; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:x-enigmail-version:content-type;
        b=T6mPbB1sgQYSmjQ33/BsjaVcaNY+IxTmWqMYw1ulFMYlj7lK7sIFtr9zCSkI3pkZ1F
         PQRUv+v7utMvpbRsuGYc4Ql424M0MIRSzTE518w+nJG/JJuYspd8B9V6gxnZFKOfh8UN
         rh6lXAPz/yswvFRXyw25BCMBu+0wvHCzsa/SA=
Received: by 10.224.26.7 with SMTP id b7mr5067420qac.328.1274297535660;
        Wed, 19 May 2010 12:32:15 -0700 (PDT)
Received: from fedora.vha.med.va.gov (c-24-10-200-153.hsd1.ut.comcast.net [24.10.200.153])
        by mx.google.com with ESMTPS id v37sm1778934qce.18.2010.05.19.12.32.12
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 19 May 2010 12:32:14 -0700 (PDT)
Message-ID: <4BF43CB4.6020104@csmining.org>
Date: Wed, 19 May 2010 13:32:04 -0600
From: Aaron Toponce <aaron.toponce@csmining.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.9) Gecko/20100330 Fedora/3.0.4-1.fc12 Thunderbird/3.0.4
MIME-Version: 1.0
To: debian-user@lists.debian.org
Subject: Re: Resizing Raid 1 partitions
References: <20100519184719.GA6395@rail.eu.org>
In-Reply-To: <20100519184719.GA6395@rail.eu.org>
X-Enigmail-Version: 1.0.1
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigBE6314CA150294EC39EF3EE9"
X-Rc-Virus: 2007-09-13_01
X-Rc-Spam: 2008-11-04_01
Resent-Message-ID: <MXgg3pHuTEL.A.CQG.YzD9LB@liszt>
Resent-From: debian-user@lists.debian.org
X-Mailing-List: <debian-user@lists.debian.org> archive/latest/577204
X-Loop: debian-user@lists.debian.org
List-Id: <debian-user.lists.debian.org>
List-Post: <mailto:debian-user@lists.debian.org>
List-Help: <mailto:debian-user-request@lists.debian.org?subject=help>
List-Subscribe: <mailto:debian-user-request@lists.debian.org?subject=subscribe>
List-Unsubscribe: <mailto:debian-user-request@lists.debian.org?subject=unsubscribe>
Precedence: list
Resent-Sender: debian-user-request@lists.debian.org
Resent-Date: Wed, 19 May 2010 19:32:40 +0000 (UTC)

This is an OpenPGP/MIME signed message (RFC 2440 and 3156)
--------------enigBE6314CA150294EC39EF3EE9
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 05/19/2010 12:47 PM, Erwan David wrote:
> 	Hi,
>=20
> I have a setup with 2 disks and following raid setting:
>=20
> sda1+sdb1 -> md0, /
> sda2+sdb2 -> md1 swap
> sda3+sdb3 -> md2 /home
>=20
> I'd like to resize partitions to get more space on md2 and less on md0.=
=09
>=20
> What would bea good way to achieve this ?

The "best" way to acheive this would be to use LVM above your software
RAID. At that point, it would be very painless, compared to what is
ahead of you now. If you're curious, here would be the steps:

mdadm -C /dev/md0 -n 2 -l 1 -a yes /dev/sd{a,b}
pvcreate /dev/md0
vgcreate home /dev/md0
lvcreate -L 1G -n swap home
lvcreate -L 10G -n root home
lvcreate -l 100%FREE -n home home

Then, for giving more space to home, and less to root, boot off a live
CD, and (assuming you're using ext3/4):

e2fsck /dev/home/root
resize2fs /dev/home/root 6G
lvreduce -L 6G /dev/home/root
lvextend -L +4G /dev/home/home
resize2fs /dev/home/home

That's it! However, because you chose not to use LVM, you will need to
boot of a live CD that supports Linux software RAID, rebuild the array,
and perform the resizing there. I'm not sure if GParted supports this or
not. Worth checking out, however.

I would personally recommend backing up your data, and reinstalling,
with LVM on top of your software RAID. You still have the redundancy,
and you have the awesome flexibility of resizing volumes with great ease.=


--=20
=2E O .   O . O   . . O   O . .   . O .
=2E . O   . O O   O . O   . O O   . . O
O O O   . O .   . O O   O O .   O O O


--------------enigBE6314CA150294EC39EF3EE9
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.13 (GNU/Linux)
Comment: Public Key at: http://tinyurl.com/aaron-gpg
Comment: Using GnuPG with Fedora - http://enigmail.mozdev.org/

iQEcBAEBCgAGBQJL9Dy5AAoJEM55Ebf8BAiPJ88IALgWwc2K9wwDv5s8nDe7HwDb
1vd9nG3fpa/ZtbSvyf2F2ib+DSTtD92AElkPiFJBrwyUA7/K3q3fUnIn/RznAPhf
VLoQvb2R3j5JBxiPih9ckazBlGCGLHMB2MquaGZkDCsOR3lZ1Z/6X7bVIWhsoyaO
/IJamrYedzcML3ojU2GQUIGI0p0VEr/gyrBPQLNIDA0xZqrP1uBQ7I5pY7ckyMib
ukgzPsnrk/5HMEks/eGxHhBCejumRyqDp3yScawevXE8eBJYWTTRDg0EVZjKvekb
iPXXBkszUin8TD6CQivBcw2sLh6WpOL2iD4sAqX5P1C2d3OWf3+0HXzZ/A6JHNI=
=Xixo
-----END PGP SIGNATURE-----

--------------enigBE6314CA150294EC39EF3EE9--


-- 
To UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org 
with a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org
Archive: http://lists.debian.org/4BF43CB4.6020104@csmining.org


