X-Account-Key: account5
X-UIDL: GmailId128b4b7098defe9f
X-Mozilla-Status: 0000
X-Mozilla-Status2: 00000000
X-Mozilla-Keys:                                                                                 
Delivered-To: mlsubscriber.tech@csmining.org
Received: by 10.143.160.8 with SMTP id m8cs5640wfo;
        Thu, 20 May 2010 00:56:55 -0700 (PDT)
Received: by 10.223.24.5 with SMTP id t5mr1169854fab.72.1274342213782;
        Thu, 20 May 2010 00:56:53 -0700 (PDT)
Return-Path: <bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org>
Received: from liszt.debian.org (liszt.debian.org [82.195.75.100])
        by mx.google.com with ESMTP id z10si19252452fah.22.2010.05.20.00.56.53;
        Thu, 20 May 2010 00:56:53 -0700 (PDT)
Received-SPF: pass (google.com: manual fallback record for domain of bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org designates 82.195.75.100 as permitted sender) client-ip=82.195.75.100;
Authentication-Results: mx.google.com; spf=pass (google.com: manual fallback record for domain of bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org designates 82.195.75.100 as permitted sender) smtp.mail=bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org
Received: from localhost (localhost [127.0.0.1])
	by liszt.debian.org (Postfix) with QMQP
	id 0146E13A54D2; Thu, 20 May 2010 07:56:48 +0000 (UTC)
Old-Return-Path: <erwan@rail.eu.org>
XChecker-Version: SpamAssassin 3.2.5 (2008-06-10) on liszt.debian.org
XLevel: 
XStatus: No, score=-9.5 required=4.0 tests=FOURLA,LDOSUBSCRIBER,
	LDO_WHITELIST,RATWARE_GECKO_BUILD autolearn=failed version=3.2.5
X-Original-To: lists-debian-user@liszt.debian.org
Delivered-To: lists-debian-user@liszt.debian.org
Received: from localhost (localhost [127.0.0.1])
	by liszt.debian.org (Postfix) with ESMTP id 7CA1713A54A3
	for <lists-debian-user@liszt.debian.org>; Thu, 20 May 2010 07:56:42 +0000 (UTC)
X-Virus-Scanned: at lists.debian.org with policy bank en-ht
X-AmavisStatus: No, score=-6.9 tagged_above=-10000 required=5.3
	tests=[BAYES_00=-2, FOURLA=0.1, LDO_WHITELIST=-5] autolearn=ham
Received: from liszt.debian.org ([127.0.0.1])
	by localhost (lists.debian.org [127.0.0.1]) (amavisd-new, port 2525)
	with ESMTP id GEEII0W7k-Rs for <lists-debian-user@liszt.debian.org>;
	Thu, 20 May 2010 07:56:34 +0000 (UTC)
X-policyd-weight: using cached result; rate: -5
Received: from smtp6-g21.free.fr (smtp6-g21.free.fr [212.27.42.6])
	by liszt.debian.org (Postfix) with ESMTP id 4DA5813A492F
	for <debian-user@lists.debian.org>; Thu, 20 May 2010 07:56:34 +0000 (UTC)
Received: from smtp6-g21.free.fr (localhost [127.0.0.1])
	by smtp6-g21.free.fr (Postfix) with ESMTP id 77D92E080CF
	for <debian-user@lists.debian.org>; Thu, 20 May 2010 09:56:30 +0200 (CEST)
Received: from bievres.rail.eu.org (bievres.rail.eu.org [82.227.34.188])
	by smtp6-g21.free.fr (Postfix) with ESMTP
	for <debian-user@lists.debian.org>; Thu, 20 May 2010 09:56:28 +0200 (CEST)
Received: from [192.168.4.130] (unknown [194.98.87.254])
	by bievres.rail.eu.org (Postfix) with ESMTPSA id 870B61DA03A
	for <debian-user@lists.debian.org>; Thu, 20 May 2010 09:56:28 +0200 (CEST)
Message-ID: <4BF4EB53.9060908@rail.eu.org>
Date: Thu, 20 May 2010 09:57:07 +0200
From: Erwan David <erwan@rail.eu.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.10) Gecko/20100512 Lightning/1.0b1 Thunderbird/3.0.5
MIME-Version: 1.0
To: debian-user@lists.debian.org
Subject: Re: Resizing Raid 1 partitions
References: <20100519184719.GA6395@rail.eu.org> <4BF43CB4.6020104@csmining.org>
In-Reply-To: <4BF43CB4.6020104@csmining.org>
X-Enigmail-Version: 1.0.1
OpenPGP: id=F7001FC7
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: clamav-milter 0.96 at nez-casse
X-Virus-Status: Clean
X-Rc-Virus: 2007-09-13_01
X-Rc-Spam: 2008-11-04_01
Resent-Message-ID: <o2z8XkJbElG.A.SnF._sO9LB@liszt>
Resent-From: debian-user@lists.debian.org
X-Mailing-List: <debian-user@lists.debian.org> archive/latest/577224
X-Loop: debian-user@lists.debian.org
List-Id: <debian-user.lists.debian.org>
List-Post: <mailto:debian-user@lists.debian.org>
List-Help: <mailto:debian-user-request@lists.debian.org?subject=help>
List-Subscribe: <mailto:debian-user-request@lists.debian.org?subject=subscribe>
List-Unsubscribe: <mailto:debian-user-request@lists.debian.org?subject=unsubscribe>
Precedence: list
Resent-Sender: debian-user-request@lists.debian.org
Resent-Date: Thu, 20 May 2010 07:56:48 +0000 (UTC)

Aaron Toponce wrote:
> On 05/19/2010 12:47 PM, Erwan David wrote:
>> 	Hi,
>>
>> I have a setup with 2 disks and following raid setting:
>>
>> sda1+sdb1 -> md0, /
>> sda2+sdb2 -> md1 swap
>> sda3+sdb3 -> md2 /home
>>
>> I'd like to resize partitions to get more space on md2 and less on md0.	
>>
>> What would bea good way to achieve this ?
> 
> The "best" way to acheive this would be to use LVM above your software
> RAID. At that point, it would be very painless, compared to what is
> ahead of you now. If you're curious, here would be the steps:
> 
> mdadm -C /dev/md0 -n 2 -l 1 -a yes /dev/sd{a,b}
> pvcreate /dev/md0
> vgcreate home /dev/md0
> lvcreate -L 1G -n swap home
> lvcreate -L 10G -n root home
> lvcreate -l 100%FREE -n home home
> 
> Then, for giving more space to home, and less to root, boot off a live
> CD, and (assuming you're using ext3/4):
> 
> e2fsck /dev/home/root
> resize2fs /dev/home/root 6G
> lvreduce -L 6G /dev/home/root
> lvextend -L +4G /dev/home/home
> resize2fs /dev/home/home
> 
> That's it! However, because you chose not to use LVM, you will need to
> boot of a live CD that supports Linux software RAID, rebuild the array,
> and perform the resizing there. I'm not sure if GParted supports this or
> not. Worth checking out, however.
> 
> I would personally recommend backing up your data, and reinstalling,
> with LVM on top of your software RAID. You still have the redundancy,
> and you have the awesome flexibility of resizing volumes with great ease.
> 

Thanks. But I would have preferred avoiding full reinstall...

I found this tutorial
http://www.howtoforge.com/how-to-resize-raid-partitions-shrink-and-grow-software-raid

I will try first.

-- 
Erwan


-- 
To UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org 
with a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org
Archive: http://lists.debian.org/4BF4EB53.9060908@rail.eu.org


