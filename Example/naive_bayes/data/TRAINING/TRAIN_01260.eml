X-Account-Key: account5
X-UIDL: GmailId1287e03bcf4b31bd
X-Mozilla-Status: 0000
X-Mozilla-Status2: 00000000
X-Mozilla-Keys:                                                                                 
Delivered-To: mlsubscriber.tech@csmining.org
Received: by 10.142.81.20 with SMTP id e20cs557773wfb;
        Sun, 9 May 2010 10:01:35 -0700 (PDT)
Received: by 10.223.101.81 with SMTP id b17mr3117544fao.17.1273424494179;
        Sun, 09 May 2010 10:01:34 -0700 (PDT)
Return-Path: <bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org>
Received: from liszt.debian.org (liszt.debian.org [82.195.75.100])
        by mx.google.com with ESMTP id a11si6627080fai.11.2010.05.09.10.01.33;
        Sun, 09 May 2010 10:01:33 -0700 (PDT)
Received-SPF: pass (google.com: manual fallback record for domain of bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org designates 82.195.75.100 as permitted sender) client-ip=82.195.75.100;
Authentication-Results: mx.google.com; spf=pass (google.com: manual fallback record for domain of bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org designates 82.195.75.100 as permitted sender) smtp.mail=bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org; dkim=neutral (body hash did not verify) header.i=@csmining.org
Received: from localhost (localhost [127.0.0.1])
	by liszt.debian.org (Postfix) with QMQP
	id 74EF813A5136; Sun,  9 May 2010 17:01:28 +0000 (UTC)
Old-Return-Path: <eual.jp@csmining.org>
XChecker-Version: SpamAssassin 3.2.5 (2008-06-10) on liszt.debian.org
XLevel: 
XStatus: No, score=-10.0 required=4.0 tests=IMPRONONCABLE_2,
	LDOSUBSCRIBER,LDO_WHITELIST autolearn=failed version=3.2.5
X-Original-To: lists-debian-user@liszt.debian.org
Delivered-To: lists-debian-user@liszt.debian.org
Received: from localhost (localhost [127.0.0.1])
	by liszt.debian.org (Postfix) with ESMTP id 5E2EE13A5022
	for <lists-debian-user@liszt.debian.org>; Sun,  9 May 2010 17:01:22 +0000 (UTC)
X-Virus-Scanned: at lists.debian.org with policy bank en-ht
X-AmavisStatus: No, score=-6 tagged_above=-10000 required=5.3
	tests=[BAYES_00=-2, IMPRONONCABLE_2=1, LDO_WHITELIST=-5] autolearn=no
Received: from liszt.debian.org ([127.0.0.1])
	by localhost (lists.debian.org [127.0.0.1]) (amavisd-new, port 2525)
	with ESMTP id n0aUGHHIsIiq for <lists-debian-user@liszt.debian.org>;
	Sun,  9 May 2010 17:01:15 +0000 (UTC)
X-policyd-weight: using cached result; rate: -6.9
Received: from fg-out-1718.google.com (fg-out-1718.google.com [72.14.220.159])
	by liszt.debian.org (Postfix) with ESMTP id 2BB1413A5120
	for <debian-user@lists.debian.org>; Sun,  9 May 2010 17:01:04 +0000 (UTC)
Received: by fg-out-1718.google.com with SMTP id e12so1759844fga.12
        for <debian-user@lists.debian.org>; Sun, 09 May 2010 10:00:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=csmining.org; s=gamma;
        h=domainkey-signature:received:received:date:from:to:subject
         :message-id:mail-followup-to:references:mime-version:content-type
         :content-disposition:in-reply-to:user-agent;
        bh=YLyKW394omA4FSlEJ3GzNzSnPK31y9IjyxPZ62MMqec=;
        b=fX+JKAm5kmjMx2yVPE4K7FsaOiXf3JDgXJUDtS+tvqEJQvqstryYg6I8/Udee/e9sw
         DAUQIvsIqkywT68NYTs/P5liqw4NX1v28xATB/4YSD3d0hLQuhOVmPV7PHaZ4BFuaimU
         F7HERDdpfwRF7Q3FaQUZrKWpk4SP8YeYau+EE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=csmining.org; s=gamma;
        h=date:from:to:subject:message-id:mail-followup-to:references
         :mime-version:content-type:content-disposition:in-reply-to
         :user-agent;
        b=spb66RVj9tIJLk6vE3gOroGHArA7tmttqGCLZE7feTcyA6Doh1zlSguT3WXkUqmgLG
         /XYqi/ZrDqAfa6xbHwx/sJjXiKUhujxHlVkrofInHGmXOz2PPoz1DWugfb062dKpoi8k
         U6/uGZclC8iCDm9MS+rHTAIfPsuXr2yNugAPM=
Received: by 10.86.124.8 with SMTP id w8mr7968005fgc.8.1273424458795;
        Sun, 09 May 2010 10:00:58 -0700 (PDT)
Received: from localhost (36.163.47.77.pptp.ntu-kpi.kiev.ua [77.47.163.36])
        by mx.google.com with ESMTPS id e20sm2555691fga.21.2010.05.09.10.00.57
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Sun, 09 May 2010 10:00:58 -0700 (PDT)
Date: Sun, 9 May 2010 20:00:58 +0300
From: Alexander Batischev <eual.jp@csmining.org>
To: debian-user@lists.debian.org
Subject: Re: Capture (for video) what is displayed on the screen
Message-ID: <20100509170058.GA24260@eternity.smila.com>
Mail-Followup-To: debian-user@lists.debian.org
References: <87tyqhcbry.fsf@merciadriluca-station.MERCIADRILUCA> <pan.2010.05.09.16.12.29@csmining.org> <871vdlc9b7.fsf@merciadriluca-station.MERCIADRILUCA>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <871vdlc9b7.fsf@merciadriluca-station.MERCIADRILUCA>
User-Agent: Mutt/1.5.18 (2008-05-17)
X-Rc-Virus: 2007-09-13_01
X-Rc-Spam: 2008-11-04_01
Resent-Message-ID: <OSginO7qhwM.A.vv.opu5LB@liszt>
Resent-From: debian-user@lists.debian.org
X-Mailing-List: <debian-user@lists.debian.org> archive/latest/576290
X-Loop: debian-user@lists.debian.org
List-Id: <debian-user.lists.debian.org>
List-Post: <mailto:debian-user@lists.debian.org>
List-Help: <mailto:debian-user-request@lists.debian.org?subject=help>
List-Subscribe: <mailto:debian-user-request@lists.debian.org?subject=subscribe>
List-Unsubscribe: <mailto:debian-user-request@lists.debian.org?subject=unsubscribe>
Precedence: list
Resent-Sender: debian-user-request@lists.debian.org
Resent-Date: Sun,  9 May 2010 17:01:28 +0000 (UTC)

On Sun, May 09, 2010 at 06:46:20PM +0200, Merciadri Luca wrote:
> ~$ ffmpeg -f x11grab -s cif -i :0.0 /tmp/out.mpg
> FFmpeg version r11872+debian_0.svn20080206-18+lenny1, Copyright (c) 2000-2008 Fabrice Bellard, et al.
>   configuration: --enable-gpl --enable-libfaad --enable-pp --enable-swscaler --enable-x11grab --prefix=/usr --enable-libgsm --enable-libtheora --enable-libvorbis --enable-pthreads --disable-strip --enable-libdc1394 --disable-armv5te --disable-armv6 --disable-altivec --disable-vis --enable-shared --disable-static
>   libavutil version: 49.6.0
>   libavcodec version: 51.50.0
>   libavformat version: 52.7.0
>   libavdevice version: 52.0.0
>   built on Jan 28 2010 20:57:25, gcc: 4.3.2
> [x11grab @ 0xb7f7fec8]device: :0.0 -> display: :0.0 x: 0 y: 0 width: 352 height: 288
> [x11grab @ 0xb7f7fec8]AVParameters don't have video size and/or rate. Use -s and -r.
> :0.0: I/O error occured
> Usually that means that input file is truncated and/or corrupted.
> ==
> 
> ==
> $ ffmpeg -f x11grab -s cif -i :0.0+10,20 /tmp/out.mpg
> FFmpeg version r11872+debian_0.svn20080206-18+lenny1, Copyright (c) 2000-2008 Fabrice Bellard, et al.
>   configuration: --enable-gpl --enable-libfaad --enable-pp --enable-swscaler --enable-x11grab --prefix=/usr --enable-libgsm --enable-libtheora --enable-libvorbis --enable-pthreads --disable-strip --enable-libdc1394 --disable-armv5te --disable-armv6 --disable-altivec --disable-vis --enable-shared --disable-static
>   libavutil version: 49.6.0
>   libavcodec version: 51.50.0
>   libavformat version: 52.7.0
>   libavdevice version: 52.0.0
>   built on Jan 28 2010 20:57:25, gcc: 4.3.2
> [x11grab @ 0xb7eb7ec8]device: :0.0+10,20 -> display: :0.0 x: 10 y: 20 width: 352 height: 288
> [x11grab @ 0xb7eb7ec8]AVParameters don't have video size and/or rate. Use -s and -r.
> :0.0+10,20: I/O error occured
> Usually that means that input file is truncated and/or corrupted.
> ==
Simply look at that line:
> [x11grab @ 0xb7eb7ec8]AVParameters don't have video size and/or rate. Use -s and -r.
As far as you have size (-s parameter)  specified already, you only need to add
frame rate (-r). Following command should work fine:

$ ffmpeg -f x11grab -s cif -r 24 -i :0.0 /tmp/out.mpg


-- 
Regards,
Alexander Batischev


-- 
To UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org 
with a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org
Archive: http://lists.debian.org/20100509170058.GA24260@eternity.smila.com


